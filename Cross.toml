[target.aarch64-unknown-linux-gnu]
pre-build = [
  "dpkg --add-architecture arm64 || true",
  "apt-get update",
  "DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends perl pkg-config make clang libssl-dev:arm64"
]

[target.aarch64-unknown-linux-gnu.env]
OPENSSL_NO_PKG_CONFIG = "1"
OPENSSL_STATIC = "1"
PKG_CONFIG_ALLOW_CROSS = "1"

[target.aarch64-linux-android]
pre-build = [
  "apt-get update",
  "DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends perl pkg-config make clang"
]

[target.aarch64-linux-android.env]
OPENSSL_NO_PKG_CONFIG = "1"
OPENSSL_STATIC = "1"
PKG_CONFIG_ALLOW_CROSS = "1"

[target.x86_64-unknown-freebsd]
pre-build = [
  "env ASSUME_ALWAYS_YES=yes pkg install -y perl5 pkgconf gmake"
]

[target.x86_64-unknown-freebsd.env]
OPENSSL_NO_PKG_CONFIG = "1"
OPENSSL_STATIC = "1"
PKG_CONFIG_ALLOW_CROSS = "1"

[target.x86_64-unknown-illumos]
pre-build = [
  "pkgin -y update",
  "pkgin -y install perl pkg-config gmake"
]

[target.x86_64-unknown-illumos.env]
OPENSSL_NO_PKG_CONFIG = "1"
OPENSSL_STATIC = "1"
PKG_CONFIG_ALLOW_CROSS = "1"
